

<PropertyList include="Aircraft/Generic/Human/Include/walker-include.xml">

	
<!--
<autopilot>
	<locks>
		<heading type="string">true-heading-hold</heading>
		<altitude type="string">altitude-hold</altitude>
    </locks>
    <settings>
		<true-heading-deg type="double">90</true-heading-deg>
		<target-altitude-ft type="double">3000</target-altitude-ft>
    </settings>
</autopilot>
-->

<sim>
	
	 <startup>
            <splash-texture>Aircraft/Y12B/splash.png</splash-texture>
     </startup>
	<aero>Y-12B</aero>
  <description>Harbin Y-12B</description>
   <long-description>Harbin Y-12B with UFO FDM as a test and development platform for Walker, WalkView and parachute jumping.  
	    https://en.wikipedia.org/wiki/Harbin_Y-12
        </long-description>
        <tags>
            <tag>ga</tag>
            <tag>Harbin</tag>
            <tag>turboprop</tag>
            <tag>80's</tag>
            <tag>twin-engine</tag>
            <tag>retractable-gear</tag>
        </tags>
	
	<flight-model>ufo</flight-model>

 <model>
  <path>Models/Y12B.xml</path>
  
	<crew>
	 <pilot n="0">
	  <pose include = "Include/ju52_pilot.xml"></pose>
	  <gender>0</gender>
	  <character>0</character>
	  <outfit>1</outfit>
	 </pilot> 
	</crew>
	
   <npc n="0">
     <pose include = "Include/ju52_pilot.xml"></pose>
            <gender>0</gender>
            <character>1</character>
           <outfit>0</outfit>
           <hair>2</hair>
     </npc>
     
     <npc n="1">
     <pose include = "Include/walker_sit.xml"></pose>
            <gender>0</gender>
            <character>0</character>
           <outfit>0</outfit>
           
			<headgear>1</headgear>
			<eyewear>0</eyewear>
			<mask>0</mask>
			<hair>1</hair>
			<toolr>1</toolr>
     </npc>

<!-- outside at cabin door -->
	<map>
	 <default_exit>
	  <x-offset-m type ="float">-2</x-offset-m>
	  <y-offset-m type ="float">1.5</y-offset-m>
	 </default_exit>
	</map>
</model>
 
 
    <sound>
        <path>Aircraft/Y12B/Sounds/Y12B-sound.xml</path>
    </sound>
 
 	<view n="0">
		<internal>true</internal>
		<config>
			<x-offset-m>-0.4858</x-offset-m>
			<y-offset-m>2.77</y-offset-m>
			<z-offset-m>-7.00</z-offset-m>
			 <default-field-of-view-deg>90</default-field-of-view-deg>
			<limits>
				<enabled type="bool">false</enabled>
			</limits>
		</config>
	</view>

 <view n="102">
    <name>Fixed Cabin View</name>
    <internal archive="y">true</internal>
    <type>lookfrom</type>
    <config>
      <from-model type="bool">true</from-model>
      <ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
      <x-offset-m archive="y">  0.195 </x-offset-m>	<!-- Right -->
      <y-offset-m archive="y">  2.355 </y-offset-m>	<!-- Up    -->
      <z-offset-m archive="y"> -1.289 </z-offset-m>	<!-- Back  -->
      <default-field-of-view-deg>90</default-field-of-view-deg>
      <dynamic-view type="bool">true</dynamic-view>
    </config>
  </view>
  
  
  <view n="103">
   <name>walk in cabin view</name>
   <internal>true</internal>
   <config>
    <!-- x/y/z == right/up/back -->
    <from-model type="bool">true</from-model>
    <from-model-idx type="int">0</from-model-idx>
    <x-offset-m type="double"> 0.50 </x-offset-m>
    <y-offset-m type="double"> 2.60 </y-offset-m>
    <z-offset-m type="double"> 1.00 </z-offset-m>
    <heading-offset-deg type="double"> 0.0 </heading-offset-deg>
    <pitch-offset-deg type="double"> 0.0 </pitch-offset-deg>
    <default-field-of-view-deg type="double"> 65 </default-field-of-view-deg>
   </config>
  </view>
  <view n="100">
		<name>Walk View</name>
		<type>lookfrom</type>
		<enabled type="bool">false</enabled>
		<config>
			<default-field-of-view-deg type="double">55.0</default-field-of-view-deg>
			<eye-alt-ft-path>sim/walker/altitude-ft</eye-alt-ft-path>
			<eye-heading-deg-path>sim/walker/heading-deg</eye-heading-deg-path>
			<eye-lat-deg-path>sim/walker/latitude-deg</eye-lat-deg-path>
			<eye-lon-deg-path>sim/walker/longitude-deg</eye-lon-deg-path>
			<eye-pitch-deg-path>sim/walker/pitch-deg</eye-pitch-deg-path>
			<eye-roll-deg-path>sim/walker/roll-deg</eye-roll-deg-path>
			<ground-level-nearplane-m type="double">0.5</ground-level-nearplane-m>
			<x-offset-m type="double">0.0</x-offset-m>
			<y-offset-m type="double">2.1</y-offset-m>
			<z-offset-m type="double">9.4</z-offset-m>
			<limits>
				<enabled type="bool">false</enabled>
			</limits>
		</config>
	</view>

	<view n="101">
		<name>Walker Orbit View</name>
		<type>lookat</type>
		<enabled type="bool">false</enabled>
		<config>
			<from-model type="bool">false</from-model>
			<from-model-idx type="int">0</from-model-idx>
			<at-model type="bool">false</at-model>
			<at-model-idx type="int">100</at-model-idx>
			<eye-alt-ft-path>sim/walker/altitude-ft</eye-alt-ft-path>
			<eye-heading-deg-path>sim/walker/heading-deg</eye-heading-deg-path>
			<eye-lat-deg-path>sim/walker/latitude-deg</eye-lat-deg-path>
			<eye-lon-deg-path>sim/walker/longitude-deg</eye-lon-deg-path>
			<eye-pitch-deg-path>sim/walker/pitch-deg</eye-pitch-deg-path>
			<eye-roll-deg-path>sim/walker/roll-deg</eye-roll-deg-path>
			<target-alt-ft-path>sim/walker/altitude-ft</target-alt-ft-path>
			<target-heading-deg-path>sim/walker/heading-deg</target-heading-deg-path>
			<target-lat-deg-path>sim/walker/latitude-deg</target-lat-deg-path>
			<target-lon-deg-path>sim/walker/longitude-deg</target-lon-deg-path>
			<target-pitch-deg-path>sim/walker/pitch-deg</target-pitch-deg-path>
			<target-roll-deg-path>sim/walker/roll-deg</target-roll-deg-path>
			<target-x-offset-m type="double">0</target-x-offset-m>
			<target-y-offset-m type="double">1.5</target-y-offset-m>
			<target-z-offset-m type="double">0</target-z-offset-m>
			<ground-level-nearplane-m type="double">0.2f</ground-level-nearplane-m>
			<default-field-of-view-deg type="double">55.0</default-field-of-view-deg>
			<x-offset-m type="double">0</x-offset-m>
			<y-offset-m type="double">1</y-offset-m>
			<z-offset-m type="double">5</z-offset-m>
			<heading-offset-deg>0</heading-offset-deg>
			<pitch-offset-deg>0</pitch-offset-deg>
			<roll-offset-deg>0</roll-offset-deg>
			<limits>
				<enabled type="bool">false</enabled>
			</limits>
		</config>
	</view>
   <!-- View 110, 111: see walker-include.xml -->

  <menubar>
        <default>
            <menu n="100">
                <label>Harbin Y-12B</label>
                <enabled type="bool">true</enabled>
                
                    <item>
						<label>remove cabin door</label>
						<binding>
							<command>property-toggle</command>
							<property>/controls/doors/door0/enabled</property>
						</binding>
					</item>
					<item>
						<label>remove seat 5</label>
						<binding>
							<command>property-toggle</command>
							<property>/controls/doors/door1/enabled</property>
						</binding>
					</item>
             
                  </menu>
        </default>
    </menubar>
               
</sim>

<controls>
<doors>
			<door0>
				<enabled type="bool">true</enabled>
			</door0>
			<door1>
				<enabled type="bool">true</enabled>
			</door1>
</doors>
</controls>

<input>
	<keyboard>
		
		<key n="119">
		  <name>w</name>
		  <desc>Walk view: Walk forward.</desc>
		  <binding>
		   <command>nasal</command>
		   <script>
			 if (!walkview.forward(1.0)) {
			 }
		   </script>
		  </binding>
		  <mod-up>
		   <binding>
			<command>nasal</command>
			<script>
			  walkview.forward(0);
			</script>
		   </binding>
		  </mod-up>
		</key>

 <key n="100">
		  <name>d</name>
		  <desc>Walk view: Side step right.</desc>
		  <repeatable type="bool">true</repeatable>
		  <binding>
		   <command>nasal</command>
		   <script>
			 if (!walkview.side_step(0.5)) {
			 }
		   </script>
		  </binding>
		  <mod-up>
		   <binding>
			<command>nasal</command>
			<script>
			  walkview.side_step(0);
			</script>
		   </binding>
		  </mod-up>	  
  </key>
  <key n="97">
			  <name>a</name>
			  <desc>Walk view: Side step left.</desc>
			  <repeatable type="bool">true</repeatable>
			  <binding>
			   <command>nasal</command>
			   <script>
				 if (!walkview.side_step(-0.5)) {
				 }
			   </script>
			  </binding>
			  <mod-up>
			   <binding>
				<command>nasal</command>
				<script>
				  walkview.side_step(0);
				</script>
			   </binding>
			  </mod-up>
 </key>
 <key n="115">
			  <name>s</name>
			  <desc>Walk view: Walk backwards.</desc>
			  <binding>
			   <command>nasal</command>
			   <script>
				 if (!walkview.forward(-1.0)) {
					 controls.startEngine(1);
				 }
			   </script>
			  </binding>
			  <mod-up>
			   <binding>
				<command>nasal</command>
				<script>
				  walkview.forward(0);
				  controls.startEngine(0);
				</script>
			   </binding>
			  </mod-up>
 </key>
 
  <!-- Keys o and j : see walker-include.xml	-->
		<key n="111">
			<name>o</name>
			<desc>Toggle walker outside/inside</desc>
			<repeatable>false</repeatable>
			<binding>
				<command>property-toggle</command>
				<property>sim/walker/key-triggers/outside-toggle</property>
			</binding>
		</key>
		
		<key n="106"> 
			<name>j</name>
			<desc>open parachute</desc>
			<repeatable>false</repeatable>
			<binding>
				<command>nasal</command>
				<script>walk.open_chute()</script>
			</binding>
		</key>
	
		<key n="107">
			<name>k</name>
			<desc>Toggle venting/contrails</desc>
			<binding>
				<command>nasal</command>
				<script>Y12B.foo</script>
			</binding>
		</key>
		
		
		<key n="362">
				<name>Home</name>
				<desc>Hover Up</desc>
				<binding>
					<command>nasal</command>
					<script>Y12B.up(1)</script>
				</binding>
				<mod-up>
					<binding>
						<command>nasal</command>
						<script>Y12B.up(0)</script>
					</binding>
				</mod-up>
			</key>

			<key n="363">
				<name>End</name>
				<desc>Hover Down</desc>
				<binding>
					<command>nasal</command>
					<script>Y12B.up(-1)</script>
				</binding>
				<mod-up>
					<binding>
						<command>nasal</command>
						<script>Y12B.up(0)</script>
					</binding>
				</mod-up>
			</key>
			
			
			
	</keyboard>
</input>


<nasal>
  <walkview>
   <file>Aircraft/Generic/WalkView/walkview.nas</file>
   <script>
    # The keel walk-way is a long narrow path running in the fore-aft direction.
    # Additionally there is a path to the side engine cars.
    var cabinConstraint =
         walkview.LinePlane.new([-5.55, 0.0, 1.0],
                                [-0.5, 0.0, 1.0],1.7);

    # Create the walker for the named view and the given movement restrictions.
    var rigger_walker = walkview.Walker.new("walk in cabin view",
                                            cabinConstraint);
   </script>
  </walkview>
	<Y12B>
		<file>Aircraft/Y12B/Nasal/doors.nas</file>
		<file>Aircraft/Y12B/Nasal/Y12B.nas</file>
		<file>Aircraft/Y12B/Nasal/systems.nas</file>
	</Y12B>
</nasal>

</PropertyList>

